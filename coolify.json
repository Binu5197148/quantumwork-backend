{
  "name": "quantumwork-api",
  "version": "1.3.0",
  "services": [
    {
      "name": "api",
      "image": "quantumwork-api:latest",
      "build": {
        "dockerfile": "Dockerfile"
      },
      "ports": [
        "3000:3000"
      ],
      "environment": [
        "NODE_ENV=production",
        "PORT=3000"
      ],
      "volumes": [
        {
          "type": "volume",
          "source": "data",
          "target": "/app/data"
        }
      ],
      "healthcheck": {
        "test": ["CMD", "node", "-e", "require('http').get('http://localhost:3000/api/health', (r) => process.exit(r.statusCode === 200 ? 0 : 1))"],
        "interval": "30s",
        "timeout": "3s",
        "retries": 3
      }
    }
  ],
  "volumes": {
    "data": {}
  }
}
